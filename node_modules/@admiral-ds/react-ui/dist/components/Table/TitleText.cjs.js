"use strict";var jsxRuntime=require("react/jsx-runtime"),e=require("react"),index=require("../Tooltip/index.cjs.js"),checkOverflow=require("../common/utils/checkOverflow.cjs.js"),style=require("./style.cjs.js");function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach(function(k){if("default"!==k){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}}),n.default=e,Object.freeze(n)}var e__namespace=_interopNamespace(e);exports.TitleText=({lineClamp,dimension,extraText,title})=>{const textRef=e__namespace.useRef(null),[overflow,setOverflow]=e__namespace.useState(!1),[tooltipVisible,setTooltipVisible]=e__namespace.useState(!1),withTooltip=overflow&&tooltipVisible&&("string"==typeof title||"number"==typeof title);return e__namespace.useLayoutEffect(()=>{const element=textRef.current;element&&checkOverflow.checkOverflow(element)!==overflow&&setOverflow(checkOverflow.checkOverflow(element))},[tooltipVisible,setOverflow]),e__namespace.useLayoutEffect(()=>{function show(){setTooltipVisible(!0)}function hide(){setTooltipVisible(!1)}const text=textRef.current;if(text)return text.addEventListener("mouseenter",show),text.addEventListener("mouseleave",hide),()=>{text.removeEventListener("mouseenter",show),text.removeEventListener("mouseleave",hide)}},[setTooltipVisible]),jsxRuntime.jsxs(jsxRuntime.Fragment,{children:[extraText?jsxRuntime.jsx(style.ExtraText,{ref:textRef,$dimension:dimension,$lineClamp:lineClamp,$withTooltip:withTooltip,children:title}):jsxRuntime.jsx(style.Title,{ref:textRef,$lineClamp:lineClamp,$withTooltip:withTooltip,"data-title":!0,children:title}),withTooltip&&jsxRuntime.jsx(index.Tooltip,{targetElement:textRef.current,renderContent:()=>title})]})};
//# sourceMappingURL=TitleText.cjs.js.map
