{"version":3,"file":"dragObserver.es.js","sources":["../../../src/components/Table/dragObserver.ts"],"sourcesContent":[null],"names":["dragObserver","initialContainers","options","onDrop","onDragStart","onDragEnd","_mirror","_source","_item","_initialSibling","_currentSibling","_grabbed","_mirrorContainerStyle","_itemId","_lastDropTarget","_currentTarget","o","direction","updateDragItem","accepts","always","invalid","invalidTarget","containers","drake","unobserve","events","release","freeResources","dragging","drag","throttle","handleDrag","isContainer","el","indexOf","remove","op","touchy","document","documentElement","grab","eventualMovements","startBecauseMouseMoved","movements","crossvent","preventGrabbed","e","preventDefault","context","item","handle","getParent","source","canStart","target","type","movementX","movementY","grabbed","cleanup","end","dataset","row","thColumn","nextElementSibling","dragover","mirrorElement","mirrorRef","current","renderMirror","style","visibility","mirrorParent","parentElement","userSelect","renderMirrorImage","ungrab","clientX","getCoord","clientY","dropTarget","findDropTarget","getElementBehindPoint","cancel","removeMirror","removeMirrorImage","groupover","elementBehindCursor","accepted","immediate","getImmediateChild","reference","getReference","initial","s","sibling","getItemNextSibling","isInitialPlacement","updatedItem","x","y","dimension","getBoundingClientRect","height","left","top","changed","cursor","isEqualNode","updateCurrentTarget","group","getItemRect","horizontal","itemRight","right","itemBottom","bottom","rect","resolve","inside","len","children","length","i","outside","after","add","fn","capturing","addEventListener","removeEventListener","mouseup","mousedown","mousemove","point","state","pointerEvents","elementFromPoint","parentNode","coord","host","targetTouches","changedTouches","getEventHost"],"mappings":"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"}