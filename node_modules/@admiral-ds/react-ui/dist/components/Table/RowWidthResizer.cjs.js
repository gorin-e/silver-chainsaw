"use strict";var jsxRuntime=require("react/jsx-runtime"),e=require("react"),styled=require("styled-components"),throttle=require("../common/utils/throttle.cjs.js");function _interopDefault(e){return e&&e.__esModule?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach(function(k){if("default"!==k){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}}),n.default=e,Object.freeze(n)}var e__namespace=_interopNamespace(e),styled__default=_interopDefault(styled);const ResizerWrapper=styled__default.default.div`
  position: absolute;
  right: -9px;
  z-index: 1;
  top: 0;
  width: ${"17px"};
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
  cursor: ${({disabled})=>disabled?"default":"col-resize"};

  padding: ${({$dimension})=>{switch($dimension){case"s":return"8px 0 7px 0";case"l":return"14px 0 13px 0";case"xl":return"18px 0 17px 0";default:return"12px 0 11px 0"}}};
`,Resizer=styled__default.default.div`
  box-sizing: border-box;
  width: 1px;
  height: 100%;
  background: var(--admiral-color-Neutral_Neutral20, ${p=>p.theme.color["Neutral/Neutral 20"]});
`;exports.Resizer=Resizer,exports.ResizerWrapper=ResizerWrapper,exports.RowWidthResizer=function({name,disabled,dimension,columnMinWidth,onChange}){const node=e__namespace.useRef(null),clientXRef=e__namespace.useRef(0),[isTaken,setTaken]=e__namespace.useState(!1),handleResize=e=>{e.preventDefault();const width=node.current?.parentElement?.getBoundingClientRect().width||100,clientX=e.changedTouches?e.changedTouches[0].clientX:e.clientX;let newWidth=width-(clientXRef.current-clientX);newWidth=newWidth>=columnMinWidth?newWidth:columnMinWidth,width!==newWidth&&onChange({name,width:newWidth}),clientXRef.current=clientX},handleClick=e=>{e.preventDefault(),e.stopPropagation(),setTaken(!0),clientXRef.current=e.changedTouches?e.changedTouches[0].clientX:e.clientX},handleMouseUp=e=>{isTaken&&(handleResize(e),setTaken(!1))},[updateOnMove,freeResources]=throttle.throttle(e=>{isTaken&&handleResize(e)},100);return e__namespace.useEffect(()=>{if(!disabled)return document.addEventListener("mousemove",updateOnMove),document.addEventListener("mouseup",handleMouseUp),document.addEventListener("touchmove",updateOnMove),document.addEventListener("touchend",handleMouseUp),()=>{freeResources(),document.removeEventListener("mousemove",updateOnMove),document.removeEventListener("mouseup",handleMouseUp),document.removeEventListener("touchmove",updateOnMove),document.removeEventListener("touchend",handleMouseUp)}}),e__namespace.useEffect(()=>{const wrapper=node.current;if(!disabled&&wrapper)return wrapper.addEventListener("mousedown",handleClick),wrapper.addEventListener("touchstart",handleClick),()=>{wrapper.removeEventListener("mousedown",handleClick),wrapper.removeEventListener("touchstart",handleClick)}},[disabled]),jsxRuntime.jsx(ResizerWrapper,{ref:node,disabled,$dimension:dimension,children:jsxRuntime.jsx(Resizer,{})})};
//# sourceMappingURL=RowWidthResizer.cjs.js.map
