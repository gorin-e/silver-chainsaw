import{jsx}from"react/jsx-runtime";import{useRef,useLayoutEffect}from"react";import{Transition}from"./Transition.es.js";import{ExpandedRowWrapper,ExpandedRowContent}from"../style.es.js";const ExpandedRow=({row,rowRef})=>{const wrapperRef=useRef(null),contentRef=useRef(null);useLayoutEffect(()=>{setWrapperHeight(row.expanded?"auto":"0px")},[]);const setWrapperHeight=height=>{const contentHeight=(contentRef.current?.clientHeight||0)+"px",wrapperHeight=height??contentHeight;wrapperRef.current&&(wrapperRef.current.style.height=wrapperHeight)};return jsx(Transition,{in:!!row.expanded,timeout:250,onEnter:()=>{setWrapperHeight("0px")},onEntered:()=>{setWrapperHeight("auto")},onEntering:()=>{setWrapperHeight()},onExit:()=>{setWrapperHeight()},onExiting:()=>{setWrapperHeight("0px")},children:jsx(ExpandedRowWrapper,{ref:wrapperRef,className:"tr-expanded",onMouseEnter:()=>{rowRef.current?.classList.remove("hoverable")},onMouseLeave:()=>{rowRef.current?.classList.add("hoverable")},children:jsx(ExpandedRowContent,{ref:contentRef,children:row.expandedRowRender?.(row)})})})};export{ExpandedRow};
//# sourceMappingURL=ExpandedRow.es.js.map
