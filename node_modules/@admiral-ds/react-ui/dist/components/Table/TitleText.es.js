import{jsxs,Fragment,jsx}from"react/jsx-runtime";import*as e from"react";import{Tooltip}from"../Tooltip/index.es.js";import{checkOverflow}from"../common/utils/checkOverflow.es.js";import{ExtraText,Title}from"./style.es.js";const TitleText=({lineClamp,dimension,extraText,title})=>{const textRef=e.useRef(null),[overflow,setOverflow]=e.useState(!1),[tooltipVisible,setTooltipVisible]=e.useState(!1),withTooltip=overflow&&tooltipVisible&&("string"==typeof title||"number"==typeof title);return e.useLayoutEffect(()=>{const element=textRef.current;element&&checkOverflow(element)!==overflow&&setOverflow(checkOverflow(element))},[tooltipVisible,setOverflow]),e.useLayoutEffect(()=>{function show(){setTooltipVisible(!0)}function hide(){setTooltipVisible(!1)}const text=textRef.current;if(text)return text.addEventListener("mouseenter",show),text.addEventListener("mouseleave",hide),()=>{text.removeEventListener("mouseenter",show),text.removeEventListener("mouseleave",hide)}},[setTooltipVisible]),jsxs(Fragment,{children:[extraText?jsx(ExtraText,{ref:textRef,$dimension:dimension,$lineClamp:lineClamp,$withTooltip:withTooltip,children:title}):jsx(Title,{ref:textRef,$lineClamp:lineClamp,$withTooltip:withTooltip,"data-title":!0,children:title}),withTooltip&&jsx(Tooltip,{targetElement:textRef.current,renderContent:()=>title})]})};export{TitleText};
//# sourceMappingURL=TitleText.es.js.map
