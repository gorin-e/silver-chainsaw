import{jsxs,jsx}from"react/jsx-runtime";import{useState,useRef,useEffect}from"react";import{FloatingButton}from"./index.es.js";import{ReactComponent as SvgCloseOutline}from"../../node_modules/@admiral-ds/icons/build/service/CloseOutline.svg.es.js";import{GroupWrapper,MenuWrapper,TRANSITION_DURATION}from"./style.es.js";import{useMountTransition}from"./useMountTransition.es.js";const FloatingButtonMenu=({icon,isOpen:propIsOpen,onOpenChange,appearance="primary",dimension="m",mobile=!1,disabled=!1,type="button",containerClassName,containerStyle,containerCssMixin,children,...props})=>{const[open,setOpen]=useState(!1),isOpen=propIsOpen??open,hasTransitionedIn=useMountTransition(isOpen,TRANSITION_DURATION),floatButtonGroupRef=useRef(null),floatButtonRef=useRef(null),onClick=e=>{floatButtonGroupRef.current?.contains(e.target)?floatButtonRef.current?.contains(e.target)&&setOpen(prevState=>(onOpenChange?.(!prevState),!prevState)):null!=floatButtonGroupRef.current?.querySelector(".floating_button_menu")&&(setOpen(!1),onOpenChange?.(!1))};return useEffect(()=>(document.addEventListener("click",onClick),()=>{document.removeEventListener("click",onClick)}),[]),jsxs(GroupWrapper,{ref:floatButtonGroupRef,$dimension:dimension,$mobile:mobile,$dropContainerCssMixin:containerCssMixin,className:containerClassName,style:containerStyle,children:[(isOpen||hasTransitionedIn)&&!disabled&&jsx(MenuWrapper,{className:"floating_button_menu","data-dimension":dimension,"data-visible":isOpen&&hasTransitionedIn,children}),jsx(FloatingButton,{ref:floatButtonRef,appearance,dimension,type,disabled,...props,children:isOpen?jsx(SvgCloseOutline,{}):icon})]})};FloatingButtonMenu.displayName="FloatingButtonMenu";export{FloatingButtonMenu};
//# sourceMappingURL=FloatingButtonMenu.es.js.map
