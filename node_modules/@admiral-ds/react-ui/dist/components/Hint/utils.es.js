const POSITION_MAPPER={bottomRight:{check:(anchorElementRect,hintRect,withScroll,viewportScrollHeight)=>{const isEnoughOnBottom=document.documentElement.clientHeight-anchorElementRect.bottom>hintRect.height,isEnoughOnBottomWithScroll=viewportScrollHeight-(anchorElementRect.bottom+globalThis.scrollY)>hintRect.height,isEnoughOnRight=document.documentElement.clientWidth-anchorElementRect.right>hintRect.width-anchorElementRect.width;return(withScroll?isEnoughOnBottomWithScroll:isEnoughOnBottom)&&isEnoughOnRight}},bottomLeft:{check:(anchorElementRect,hintRect,withScroll,viewportScrollHeight)=>{const isEnoughOnBottom=document.documentElement.clientHeight-anchorElementRect.bottom>hintRect.height,isEnoughOnBottomWithScroll=viewportScrollHeight-(anchorElementRect.bottom+globalThis.scrollY)>hintRect.height,isEnoughOnLeft=anchorElementRect.left>hintRect.width-anchorElementRect.width;return(withScroll?isEnoughOnBottomWithScroll:isEnoughOnBottom)&&isEnoughOnLeft}},topRight:{check:(anchorElementRect,hintRect,withScroll)=>{const isEnoughOnTop=anchorElementRect.top>hintRect.height,isEnoughOnTopWithScroll=anchorElementRect.top+globalThis.scrollY>hintRect.height;return document.documentElement.clientWidth-anchorElementRect.right>hintRect.width-anchorElementRect.width&&(withScroll?isEnoughOnTopWithScroll:isEnoughOnTop)}},topLeft:{check:(anchorElementRect,hintRect,withScroll)=>{const isEnoughOnTop=anchorElementRect.top>hintRect.height,isEnoughOnTopWithScroll=anchorElementRect.top+globalThis.scrollY>hintRect.height;return anchorElementRect.left>hintRect.width-anchorElementRect.width&&(withScroll?isEnoughOnTopWithScroll:isEnoughOnTop)}},leftBottom:{check:(anchorElementRect,hintRect,withScroll,viewportScrollHeight)=>{const isEnoughOnLeft=anchorElementRect.left>hintRect.width,isEnoughOnBottom=document.documentElement.clientHeight-anchorElementRect.top>hintRect.height,isEnoughOnBottomWithScroll=viewportScrollHeight-(anchorElementRect.top+globalThis.scrollY)>hintRect.height;return isEnoughOnLeft&&(withScroll?isEnoughOnBottomWithScroll:isEnoughOnBottom)}},leftTop:{check:(anchorElementRect,hintRect,withScroll)=>{const isEnoughOnLeft=anchorElementRect.left>hintRect.width,isEnoughOnTop=anchorElementRect.bottom>hintRect.height,isEnoughOnTopWithScroll=anchorElementRect.bottom+globalThis.scrollY>hintRect.height;return isEnoughOnLeft&&(withScroll?isEnoughOnTopWithScroll:isEnoughOnTop)}},rightBottom:{check:(anchorElementRect,hintRect,withScroll,viewportScrollHeight)=>{const isEnoughOnRight=document.documentElement.clientWidth-anchorElementRect.right>hintRect.width,isEnoughOnBottom=document.documentElement.clientHeight-anchorElementRect.top>hintRect.height,isEnoughOnBottomWithScroll=viewportScrollHeight-(anchorElementRect.top+globalThis.scrollY)>hintRect.height;return isEnoughOnRight&&(withScroll?isEnoughOnBottomWithScroll:isEnoughOnBottom)}},rightTop:{check:(anchorElementRect,hintRect,withScroll)=>{const isEnoughOnRight=document.documentElement.clientWidth-anchorElementRect.right>hintRect.width,isEnoughOnTop=anchorElementRect.bottom>hintRect.height,isEnoughOnTopWithScroll=anchorElementRect.bottom+globalThis.scrollY>hintRect.height;return isEnoughOnRight&&(withScroll?isEnoughOnTopWithScroll:isEnoughOnTop)}},bottom:{check:(anchorElementRect,hintRect,withScroll,viewportScrollHeight)=>{const isEnoughOnBottom=document.documentElement.clientHeight-anchorElementRect.bottom>hintRect.height,isEnoughOnBottomWithScroll=viewportScrollHeight-(anchorElementRect.bottom+globalThis.scrollY)>hintRect.height,isEnoughOnLeft=anchorElementRect.left+anchorElementRect.width/2>hintRect.width/2,isEnoughOnRight=document.documentElement.clientWidth-anchorElementRect.right+anchorElementRect.width/2>hintRect.width/2;return(withScroll?isEnoughOnBottomWithScroll:isEnoughOnBottom)&&isEnoughOnLeft&&isEnoughOnRight}},top:{check:(anchorElementRect,hintRect,withScroll)=>{const isEnoughOnTop=anchorElementRect.top>hintRect.height,isEnoughOnTopWithScroll=anchorElementRect.top+globalThis.scrollY>hintRect.height,isEnoughOnLeft=anchorElementRect.left+anchorElementRect.width/2>hintRect.width/2,isEnoughOnRight=document.documentElement.clientWidth-anchorElementRect.right+anchorElementRect.width/2>hintRect.width/2;return(withScroll?isEnoughOnTopWithScroll:isEnoughOnTop)&&isEnoughOnLeft&&isEnoughOnRight}},left:{check:(anchorElementRect,hintRect,withScroll,viewportScrollHeight)=>{const isEnoughOnLeft=anchorElementRect.left>hintRect.width,isEnoughOnTop=anchorElementRect.top>(hintRect.height-anchorElementRect.height)/2,isEnoughOnTopWithScroll=anchorElementRect.top+globalThis.screenY>(hintRect.height-anchorElementRect.height)/2,isEnoughOnBottom=document.documentElement.clientHeight-anchorElementRect.bottom>(hintRect.height-anchorElementRect.height)/2,isEnoughOnBottomWithScroll=viewportScrollHeight-(anchorElementRect.bottom+globalThis.scrollY)>(hintRect.height-anchorElementRect.height)/2;return isEnoughOnLeft&&(withScroll?isEnoughOnTopWithScroll:isEnoughOnTop)&&(withScroll?isEnoughOnBottomWithScroll:isEnoughOnBottom)}},right:{check:(anchorElementRect,hintRect,withScroll,viewportScrollHeight)=>{const isEnoughOnRight=document.documentElement.clientWidth-anchorElementRect.right>hintRect.width,isEnoughOnTop=anchorElementRect.top>(hintRect.height-anchorElementRect.height)/2,isEnoughOnTopWithScroll=anchorElementRect.top+globalThis.screenY>(hintRect.height-anchorElementRect.height)/2,isEnoughOnBottom=document.documentElement.clientHeight-anchorElementRect.bottom>(hintRect.height-anchorElementRect.height)/2,isEnoughOnBottomWithScroll=viewportScrollHeight-(anchorElementRect.bottom+globalThis.scrollY)>(hintRect.height-anchorElementRect.height)/2;return isEnoughOnRight&&(withScroll?isEnoughOnTopWithScroll:isEnoughOnTop)&&(withScroll?isEnoughOnBottomWithScroll:isEnoughOnBottom)}},bottomPageCenter:{check:(anchorElementRect,hintRect,withScroll,viewportScrollHeight)=>{const isEnoughOnBottom=document.documentElement.clientHeight-anchorElementRect.bottom>hintRect.height,isEnoughOnBottomWithScroll=viewportScrollHeight-(anchorElementRect.bottom+globalThis.scrollY)>hintRect.height,isEnoughOnCenter=hintRect.width<document.documentElement.clientWidth;return(withScroll?isEnoughOnBottomWithScroll:isEnoughOnBottom)&&isEnoughOnCenter}},topPageCenter:{check:(anchorElementRect,hintRect,withScroll)=>{const isEnoughOnTop=anchorElementRect.top>hintRect.height,isEnoughOnTopWithScroll=anchorElementRect.top+globalThis.scrollY>hintRect.height;return hintRect.width<document.documentElement.clientWidth&&(withScroll?isEnoughOnTopWithScroll:isEnoughOnTop)}}};function getHintDirection(anchorElement,hintElement,hintPosition){const anchorElementRect=anchorElement.getBoundingClientRect(),hintRect=hintElement.getBoundingClientRect(),positions=Object.entries(POSITION_MAPPER),viewportScrollHeight=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);let compatiblePositions=hintPosition?positions.filter(kv=>kv[0].includes(hintPosition)&&kv[1].check(anchorElementRect,hintRect,!1,viewportScrollHeight)):positions.filter(kv=>kv[1].check(anchorElementRect,hintRect,!1,viewportScrollHeight));0===compatiblePositions.length&&(compatiblePositions=hintPosition?positions.filter(kv=>kv[0].includes(hintPosition)&&kv[1].check(anchorElementRect,hintRect,!0,viewportScrollHeight)):positions.filter(kv=>kv[1].check(anchorElementRect,hintRect,!0,viewportScrollHeight)));const defaultPosition=(hintPosition=>{switch(hintPosition){case"left":return"leftBottom";case"right":return"rightBottom";case"top":return"topRight";default:return"bottomRight"}})(hintPosition);return compatiblePositions.length?compatiblePositions[0][0]:defaultPosition}export{getHintDirection};
//# sourceMappingURL=utils.es.js.map
