"use strict";var jsxRuntime=require("react/jsx-runtime"),e=require("react"),styled=require("styled-components"),ImageMiniature=require("./ImageMiniature.cjs.js"),ImagePreview=require("./ImagePreview.cjs.js"),uid=require("../common/uid.cjs.js");function _interopDefault(e){return e&&e.__esModule?e:{default:e}}const Wrapper=_interopDefault(styled).default.div`
  box-sizing: border-box;

  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;

  ${p=>p.$previewGroupMixin}
`;exports.ImageViewer=({items,defaultActiveImg=0,appearance="single",previewGroupMixin,mobile=!1,dimension="m",container,minScale,maxScale,errorMiniature,scaleStep,showTooltip=!0,showCounter=!0,showNavigation=!0,locale,activeImg,onActiveChange,visible,onVisibleChange,onTransform,...props})=>{const[activeImgState,setActiveImgState]=e.useState(defaultActiveImg),activeImgInner=activeImg??activeImgState,handleActiveChange=newIndex=>{setActiveImgState(newIndex),onActiveChange?.(newIndex)},[visibleState,setVisibleState]=e.useState(!1),visibleInner=visible??visibleState,renderItem=(item,index)=>{const itemKey=uid.uid();return jsxRuntime.jsx(ImageMiniature.ImageMiniature,{item,dimension,onMouseDown:()=>{handleActiveChange(index),setVisibleState(!0)}},itemKey)},miniatures=e.useMemo(()=>"single"===appearance?renderItem(items[defaultActiveImg],defaultActiveImg):items.map((item,index)=>renderItem(item,index)),[items,appearance,dimension,previewGroupMixin,errorMiniature]);return jsxRuntime.jsxs(Wrapper,{...props,$previewGroupMixin:previewGroupMixin,children:[miniatures,visibleInner&&jsxRuntime.jsx(ImagePreview.ImagePreview,{item:items[activeImgInner],container,minScale,maxScale,errorMiniature:errorMiniature??jsxRuntime.jsx(ImageMiniature.EmptyMiniature,{dimension}),scaleStep,showTooltip,showCounter:showCounter&&items.length>1,showNavigation:showNavigation&&!mobile&&items.length>1,locale,activeImg:activeImgInner,totalImg:items.length,onVisibleChange:newState=>{setVisibleState(newState),onVisibleChange?.(newState)},onActiveChange:handleActiveChange,onTransform})]})};
//# sourceMappingURL=index.cjs.js.map
