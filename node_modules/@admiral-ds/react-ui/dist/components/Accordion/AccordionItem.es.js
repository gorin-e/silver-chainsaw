import{jsxs,jsx}from"react/jsx-runtime";import{useState,useRef,useMemo,useCallback}from"react";import{uid}from"../common/uid.es.js";import{keyboardKey}from"../common/keyboardKey.es.js";import{Collapse}from"./Collapse.es.js";import{ItemWrapper,ItemTitle,ItemTitleContent,TitleContent,Chevron,ItemContent}from"./style.es.js";const AccordionItem=({children,title,id,defaultExpanded,expanded:userExpanded,onClick,contentMaxHeight="100vh",disabled=!1,...props})=>{const[expanded,setExpanded]=useState(defaultExpanded),collapseOpened=void 0===userExpanded?expanded:userExpanded,titleRef=useRef(null),itemId=useMemo(()=>id||uid(),[id]),ITEM_TITLE_ID=`accordion_title_${itemId}`,ITEM_CONTENT_ID=`accordion_content_${itemId}`,handleClick=useCallback(event=>{void 0===userExpanded?(onClick?.(title,!expanded,event),setExpanded(!expanded)):onClick?.(title,!userExpanded,event)},[expanded,userExpanded,onClick,title]);return jsxs(ItemWrapper,{$opened:collapseOpened,"data-disabled":disabled,children:[jsx(ItemTitle,{ref:titleRef,onClick:disabled?void 0:handleClick,onKeyDown:disabled?void 0:e=>{const code=keyboardKey.getCode(e);code!==keyboardKey.Enter&&code!==keyboardKey[" "]||titleRef.current?.dispatchEvent(new MouseEvent("click",{bubbles:!0})),props.onKeyDown?.(e)},role:"button","aria-expanded":collapseOpened,"aria-controls":ITEM_CONTENT_ID,"aria-disabled":disabled,tabIndex:disabled?-1:0,id:ITEM_TITLE_ID,...props,children:jsxs(ItemTitleContent,{children:[jsx(TitleContent,{children:title}),jsx(Chevron,{"aria-hidden":!0})]})}),jsx(Collapse,{$opened:collapseOpened,$contentMaxHeight:contentMaxHeight,children:jsx(ItemContent,{$contentMaxHeight:contentMaxHeight,role:"region","aria-labelledby":ITEM_TITLE_ID,id:ITEM_CONTENT_ID,children})})]})};export{AccordionItem};
//# sourceMappingURL=AccordionItem.es.js.map
