import{jsxs,jsx}from"react/jsx-runtime";import{TooltipHoc}from"../../TooltipHOC/index.es.js";import{useTheme}from"styled-components";import{LIGHT_THEME}from"../../themes/light/index.es.js";import"../../themes/common/locales.es.js";import"../../Typography/typography.es.js";import"../../Typography/defaultTypographyMixin.es.js";import{differenceMonths,subMonths,addMonths,differenceYears,subYears,addYears,getFormattedValue}from"../date-utils.es.js";import{PanelComponent}from"../styled/PanelComponent.es.js";import{Month,Year,PanelDate}from"../styled/PanelDate.es.js";import{capitalizeFirstLetter}from"../constants.es.js";import{Button}from"./Button.es.js";const MonthWithTooltip=TooltipHoc(Month),YearWithTooltip=TooltipHoc(Year),ButtonWithTooltip=TooltipHoc(Button),Panel=({viewDate,minDate,maxDate,yearsView,monthsView,locale,onYearsViewShow,onYearsViewHide,onMonthsViewShow,onMonthsViewHide,onNext,onPrevious})=>{const theme=useTheme()||LIGHT_THEME,previousMonthDisabled=!!minDate&&differenceMonths(minDate,subMonths(viewDate))>0,nextMonthDisabled=!!maxDate&&differenceMonths(addMonths(viewDate,1),maxDate)>0,previousYearDisabled=!!minDate&&differenceYears(minDate,subYears(viewDate,1))>0,nextYearDisabled=!!maxDate&&differenceYears(addYears(viewDate,1),maxDate)>0,previousDisabled=yearsView?previousYearDisabled:previousMonthDisabled,nextDisabled=yearsView?nextYearDisabled:nextMonthDisabled;return jsxs(PanelComponent,{$yearsView:yearsView,$monthsView:monthsView,className:"ui-kit-calendar-panel-component",children:[monthsView||previousDisabled?jsx(Button,{onMouseDown:onPrevious,disabled:previousDisabled,type:"left"}):jsx(ButtonWithTooltip,{renderContent:()=>yearsView?locale?.backwardText||theme.locales[theme.currentLocale].calendar.backwardText:locale?.previousMonthText||theme.locales[theme.currentLocale].calendar.previousMonthText,onMouseDown:onPrevious,disabled:previousDisabled,type:"left"}),jsxs(PanelDate,{children:[jsx(MonthWithTooltip,{renderContent:()=>monthsView?locale?.returnText||theme.locales[theme.currentLocale].calendar.returnText:locale?.selectMonthText||theme.locales[theme.currentLocale].calendar.selectMonthText,$view:monthsView,onMouseDown:event=>{event.preventDefault(),monthsView?onMonthsViewHide(event):onMonthsViewShow(event)},children:capitalizeFirstLetter(getFormattedValue(viewDate,{month:"long"},theme.currentLocale||"ru"))}),jsx(YearWithTooltip,{renderContent:()=>yearsView?locale?.returnText||theme.locales[theme.currentLocale].calendar.returnText:locale?.selectYearText||theme.locales[theme.currentLocale].calendar.selectYearText,$view:yearsView,onMouseDown:event=>{event.preventDefault(),yearsView?onYearsViewHide(event):onYearsViewShow(event)},children:viewDate.getFullYear()})]}),monthsView||nextDisabled?jsx(Button,{onMouseDown:onNext,disabled:nextDisabled,type:"right"}):jsx(ButtonWithTooltip,{renderContent:()=>yearsView?locale?.forwardText||theme.locales[theme.currentLocale].calendar.forwardText:locale?.nextMonthText||theme.locales[theme.currentLocale].calendar.nextMonthText,onMouseDown:onNext,disabled:nextDisabled,type:"right"})]})};export{Panel};
//# sourceMappingURL=Panel.es.js.map
