import{findIndexOf,restoreContainer}from"./utils.es.js";const manager=new class{containers;modals;constructor(){this.modals=[],this.containers=[]}add(modal,container){let modalIndex=this.modals.indexOf(modal);if(-1!==modalIndex)return modalIndex;modalIndex=this.modals.length,this.modals.push(modal);const containerIndex=findIndexOf(this.containers,item=>item.container===container);return-1!==containerIndex?(this.containers[containerIndex].modals.push(modal),modalIndex):(this.containers.push({modals:[modal],container,restore:null}),modalIndex)}mount(modal){const containerIndex=findIndexOf(this.containers,item=>-1!==item.modals.indexOf(modal)),containerInfo=this.containers[containerIndex];containerInfo.restore||(containerInfo.restore=restoreContainer(containerInfo.container))}remove(modal){const modalIndex=this.modals.indexOf(modal);if(-1===modalIndex)return modalIndex;const containerIndex=findIndexOf(this.containers,item=>-1!==item.modals.indexOf(modal)),containerInfo=this.containers[containerIndex];return containerInfo.modals.splice(containerInfo.modals.indexOf(modal),1),this.modals.splice(modalIndex,1),0===containerInfo.modals.length&&(containerInfo.restore&&containerInfo.restore(),this.containers.splice(containerIndex,1)),modalIndex}};export{manager};
//# sourceMappingURL=manager.es.js.map
