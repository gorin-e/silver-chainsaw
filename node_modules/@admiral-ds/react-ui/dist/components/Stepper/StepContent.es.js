import{jsxs,Fragment,jsx}from"react/jsx-runtime";import{useContext,useRef,useState,useLayoutEffect}from"react";import{Tooltip}from"../Tooltip/index.es.js";import{checkOverflow}from"../common/utils/checkOverflow.es.js";import{ContentWrapper,Content}from"./style.es.js";import{StepperContext}from"./StepperContext.es.js";const StepContent=({children,tooltipProps})=>{const{lineClamp}=useContext(StepperContext),wrapperRef=useRef(null),contentRef=useRef(null),[overflow,setOverflow]=useState(!1),[tooltipVisible,setTooltipVisible]=useState(!1);return useLayoutEffect(()=>{contentRef.current&&checkOverflow(contentRef.current)!==overflow&&setOverflow(checkOverflow(contentRef.current))},[tooltipVisible,setOverflow]),useLayoutEffect(()=>{function show(){setTooltipVisible(!0)}function hide(){setTooltipVisible(!1)}const wrapper=wrapperRef.current;if(wrapper)return wrapper.addEventListener("mouseenter",show),wrapper.addEventListener("mouseleave",hide),()=>{wrapper.removeEventListener("mouseenter",show),wrapper.removeEventListener("mouseleave",hide)}},[setTooltipVisible]),jsxs(Fragment,{children:[jsx(ContentWrapper,{ref:wrapperRef,$withTooltip:overflow,children:jsx(Content,{ref:contentRef,$lineClamp:lineClamp,children})}),tooltipVisible&&overflow&&jsx(Tooltip,{targetElement:wrapperRef.current,renderContent:()=>children,...tooltipProps})]})};StepContent.displayName="StepContent";export{StepContent};
//# sourceMappingURL=StepContent.es.js.map
