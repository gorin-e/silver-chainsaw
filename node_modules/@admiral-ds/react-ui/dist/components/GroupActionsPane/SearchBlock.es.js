import{jsx}from"react/jsx-runtime";import{forwardRef,useRef}from"react";import{IconButton}from"../IconButton/index.es.js";import{ReactComponent as SvgSearchOutline}from"../../node_modules/@admiral-ds/icons/build/system/SearchOutline.svg.es.js";import{refSetter}from"../common/utils/refSetter.es.js";import{SearchInput}from"./SearchInput.es.js";import styled from"styled-components";const StyledIconButton=styled(IconButton)`
  flex-shrink: 0;
  &:focus-visible {
    z-index: 1;
  }
`,SearchBlock=forwardRef(({dimension="l",opened=!0,searchValue,locale,onOpenSearch,onCloseSearch,onChangeSearchValue,...props},ref)=>{const buttonRef=useRef(null),inputRef=useRef(null);return jsx(SearchInput,{ref:inputRef,dimension,autoFocus:!0,tabIndex:0,opened,collapsed:!opened&&!!searchValue,value:searchValue,onChange:onChangeSearchValue,onBlur:e=>{e.relatedTarget!==buttonRef.current&&onCloseSearch()},onFocus:()=>{!opened&&searchValue&&onOpenSearch()},locale,children:jsx(StyledIconButton,{ref:refSetter(ref,buttonRef),dimension,onClick:()=>{opened||onOpenSearch()},onBlur:e=>{inputRef.current&&e.relatedTarget!==inputRef.current&&opened&&onCloseSearch()},...props,children:jsx(SvgSearchOutline,{})})})});export{SearchBlock};
//# sourceMappingURL=SearchBlock.es.js.map
