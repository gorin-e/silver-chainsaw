"use strict";var jsxRuntime=require("react/jsx-runtime"),e=require("react"),index=require("../IconButton/index.cjs.js"),SearchOutline=require("../../node_modules/@admiral-ds/icons/build/system/SearchOutline.svg.cjs.js"),refSetter=require("../common/utils/refSetter.cjs.js"),SearchInput=require("./SearchInput.cjs.js");function _interopDefault(e){return e&&e.__esModule?e:{default:e}}const StyledIconButton=_interopDefault(require("styled-components")).default(index.IconButton)`
  flex-shrink: 0;
  &:focus-visible {
    z-index: 1;
  }
`,SearchBlock=e.forwardRef(({dimension="l",opened=!0,searchValue,locale,onOpenSearch,onCloseSearch,onChangeSearchValue,...props},ref)=>{const buttonRef=e.useRef(null),inputRef=e.useRef(null),collapsedInput=!opened&&!!searchValue;return jsxRuntime.jsx(SearchInput.SearchInput,{ref:inputRef,dimension,autoFocus:!0,tabIndex:0,opened,collapsed:collapsedInput,value:searchValue,onChange:onChangeSearchValue,onBlur:e=>{e.relatedTarget!==buttonRef.current&&onCloseSearch()},onFocus:()=>{!opened&&searchValue&&onOpenSearch()},locale,children:jsxRuntime.jsx(StyledIconButton,{ref:refSetter.refSetter(ref,buttonRef),dimension,onClick:()=>{opened||onOpenSearch()},onBlur:e=>{inputRef.current&&e.relatedTarget!==inputRef.current&&opened&&onCloseSearch()},...props,children:jsxRuntime.jsx(SearchOutline.ReactComponent,{})})})});exports.SearchBlock=SearchBlock;
//# sourceMappingURL=SearchBlock.cjs.js.map
