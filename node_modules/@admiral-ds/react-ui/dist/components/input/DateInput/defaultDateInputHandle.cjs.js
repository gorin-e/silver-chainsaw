"use strict";var splice=require("../../common/utils/splice.cjs.js");const formatDate=value=>`${value.substring(0,2).replace(/\D/g,"_").padEnd(2,"_")}.${value.substring(2,4).replace(/\D/g,"_").padEnd(2,"_")}.${value.substring(4,8).replace(/\D/g,"_").padEnd(4,"_")}`;exports.MASK_VALUE="__.__.____",exports.defaultDateInputHandle=function(inputData){if(null===inputData)return{value:"__.__.____",selectionStart:0,selectionEnd:0};const selectionStart=inputData.selectionStart||0;let inputValue=inputData.value||"";const lengthDifference=inputValue.length-10;if("__.__.____"===inputValue.replace(/\d/g,"_"))return inputData;if(lengthDifference<0){inputValue=splice.splice(inputValue,selectionStart,0,"__.__.____".substr(selectionStart,-lengthDifference));const cursorPos=selectionStart>0&&"."===inputValue.charAt(selectionStart-1)?selectionStart-1:selectionStart;return{...inputData,value:inputValue,selectionStart:cursorPos,selectionEnd:cursorPos}}let addCount=0;"."===inputValue.charAt(selectionStart-1)&&(addCount=-1),"."===inputValue.charAt(selectionStart)&&(addCount=/\d/.test(inputValue.charAt(selectionStart-1))?1:-1);const clearValue=splice.splice(inputValue,selectionStart+addCount,lengthDifference,"").replace(/[^\d_]/g,"");inputValue=formatDate(clearValue);let cursorPos="."===inputValue.charAt(selectionStart)?selectionStart+1:selectionStart;return"."===inputData.value?.charAt(inputData.selectionStart||0)&&(cursorPos+=1),{...inputData,value:inputValue,selectionStart:cursorPos,selectionEnd:cursorPos}},exports.formatDate=formatDate;
//# sourceMappingURL=defaultDateInputHandle.cjs.js.map
