"use strict";const defaultPhoneNumberInputHandler=clojureHandler(null);function clojureHandler(mask){const countryCode=mask?.replace(/\D/g,"");const InitialInputData={selectionStart:1,value:""};return inputData=>{let selectionStart=inputData?.selectionStart||1,selectionEnd=inputData?.selectionEnd||1;if(!function(value){const hasPlus="+"===value.charAt(0);if(!countryCode)return!hasPlus;const hasCountyWs=!(value.length>countryCode.length+1)||" "===value.charAt(countryCode.length+1),hasCityWs=!(value.length>countryCode.length+5)||" "===value.charAt(countryCode.length+5),hasMiddleWs=!(value.length>countryCode.length+9)||" "===value.charAt(countryCode.length+9);return!(hasPlus&&hasCountyWs&&hasCityWs&&hasMiddleWs)}(inputData?.value||""))return inputData||InitialInputData;const clearData=(inputData?.value||"").replace(/\D/g,""),value=function(mask,value){const parsedData=function(mask,value){if(!mask)return null;const matchMask=value.length>=mask.length&&value.substring(0,mask.length)===mask;if(!matchMask)return null;let start=mask.length;const cityCode=value.substring(start,start+3);start+=3;const middleCode=value.substring(start,start+3);start+=3;const lastNum=value.substring(start,start+4);return{mask,cityCode,middleCode,lastNum}}(mask,value);if(!parsedData)return`+${value}`;return parsedData.lastNum?`+${parsedData.mask} ${parsedData.cityCode} ${parsedData.middleCode} ${parsedData.lastNum}`:parsedData.middleCode?`+${parsedData.mask} ${parsedData.cityCode} ${parsedData.middleCode}`:parsedData.cityCode?`+${parsedData.mask} ${parsedData.cityCode}`:`+${value}`}(countryCode,clearData),positionWithSpaceBefore=/\d/.test(value.charAt(selectionStart))&&" "===value.charAt(selectionStart-1),oldNextChar=inputData?.value&&inputData.value.length>=selectionStart?inputData.value.charAt(selectionStart).trim():null;positionWithSpaceBefore&&!oldNextChar&&(selectionStart+=1,selectionEnd+=1);return inputData?.value===value?inputData:{...inputData,value,selectionStart,selectionEnd}}}exports.clojureHandler=clojureHandler,exports.defaultPhoneNumberInputHandler=defaultPhoneNumberInputHandler;
//# sourceMappingURL=defaultPhoneNumberInputHandle.cjs.js.map
