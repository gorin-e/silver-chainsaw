"use strict";var jsxRuntime=require("react/jsx-runtime"),e=require("react"),styled=require("styled-components"),keyboardKey=require("../../common/keyboardKey.cjs.js"),borderRadius=require("../../themes/borderRadius.cjs.js"),parseShadowFromTheme=require("../../common/utils/parseShadowFromTheme.cjs.js"),MenuItem=require("../../Menu/MenuItem.cjs.js");function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var styled__default=_interopDefault(styled);const menuListHeights=styled.css`
  max-height: ${({$dimension,$maxHeight})=>{if($maxHeight)return $maxHeight;switch($dimension){case"l":default:return"304px";case"m":return"256px";case"s":return"208px"}}};
`,Wrapper=styled__default.default.div`
  pointer-events: initial;
  background-color: var(--admiral-color-Special_ElevatedBG, ${p=>p.theme.color["Special/Elevated BG"]});
  border-radius: var(--admiral-border-radius-Medium, ${p=>borderRadius.mediumGroupBorderRadius(p.theme.shape)});
  box-shadow: var(--admiral-box-shadow-Shadow08, ${p=>parseShadowFromTheme.parseShadow(p.theme.shadow["Shadow 08"])});
  max-width: calc(100vw - 32px);
  border-color: transparent;
  ${menuListHeights};
  overflow-x: hidden;
  overflow-y: auto;
  scroll-behavior: smooth;
`,StyledDiv=styled__default.default.div`
  margin: 0;
  padding: 8px 0;
  appearance: none;
  flex: 0 0 auto;
  border: none;
`;function defaultOptionRender({value,key,...props}){return jsxRuntime.jsx(MenuItem.MenuItem,{...props,children:String(value)},key)}const Menu=e.forwardRef(({options,selected,renderOption=defaultOptionRender,onSelect,dimension,maxHeight,preventFocusSteal,...props},ref)=>{const[activeOption,setActiveOption]=e.useState(null),menuRef=e.useRef(null);e.useEffect(()=>{function handleKeyDown(e){switch(keyboardKey.keyboardKey.getCode(e)){case keyboardKey.keyboardKey[" "]:case keyboardKey.keyboardKey.Enter:activeOption&&onSelect(activeOption),e.preventDefault();break;case keyboardKey.keyboardKey.ArrowDown:setActiveOption((()=>{const currentIndex=selected?options.indexOf(activeOption||selected):0;return currentIndex+1>options.length?options[0]:options[currentIndex+1]})()),e.preventDefault();break;case keyboardKey.keyboardKey.ArrowUp:setActiveOption((()=>{const currentIndex=selected?options.indexOf(activeOption||selected):0;return currentIndex-1<0?options[options.length-1]:options[currentIndex-1]})()),e.preventDefault()}}return document.addEventListener("keydown",handleKeyDown),()=>{document.removeEventListener("keydown",handleKeyDown)}},[activeOption]);return e.useEffect(()=>{const hoveredItem=menuRef.current?.querySelector('[data-hovered="true"]');hoveredItem?.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},[activeOption]),jsxRuntime.jsx(Wrapper,{ref,$dimension:dimension,$maxHeight:maxHeight,...props,children:jsxRuntime.jsx(StyledDiv,{ref:menuRef,children:options.map((option,index)=>renderOption({key:index,value:option,hovered:option===activeOption,selected:option===selected,onHover:()=>setActiveOption(option),onClick:()=>onSelect(option),onMouseDown:preventFocusSteal?e=>e.preventDefault():void 0,dimension}))})})});Menu.displayName="Menu",exports.Menu=Menu;
//# sourceMappingURL=Menu.cjs.js.map
