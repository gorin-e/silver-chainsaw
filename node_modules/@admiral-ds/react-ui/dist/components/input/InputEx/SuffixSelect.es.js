import{jsxs,Fragment,jsx}from"react/jsx-runtime";import{useState,useRef}from"react";import styled,{css}from"styled-components";import{OpenStatusButton}from"../../OpenStatusButton.es.js";import{StyledDropdownContainer}from"../../DropdownContainer/index.es.js";import{Menu}from"./Menu.es.js";const StyledMenu=styled(Menu)`
  width: ${({$width})=>$width||"auto"};
`,preventDefault=e=>e.preventDefault(),Container=styled.div`
  display: flex;
  align-items: center;
  cursor: pointer;

  &[data-read-only] {
    cursor: default;
  }

  & > svg {
    display: block;
    width: ${p=>p.$iconSizeValue||"24px"};

    &:focus {
      outline: none;
    }

    &:focus-visible {
      outline-offset: 2px;
      outline: var(--admiral-color-Primary_Primary60Main, ${p=>p.theme.color["Primary/Primary 60 Main"]}) solid 2px;
    }
  }

  ${p=>p.disabled?"cursor: not-allowed;":css`
          &:hover {
            & > ${OpenStatusButton} *[fill^='#'] {
              fill: var(--admiral-color-Primary_Primary70, ${p=>p.theme.color["Primary/Primary 70"]});
            }
          }
        `}
`,ValueContainer=styled.div`
  margin-right: 4px;
`,SuffixSelect=({alignRef,targetElement,alignSelf,dimension,menuWidth,menuMaxHeight,onChange,options,value,disabled,dropContainerCssMixin,dropContainerClassName,dropContainerStyle,renderValue,renderOption,...props})=>{const[isOpenState,setIsOpenState]=useState(!1),isOpen=void 0===props.isOpen?isOpenState:props.isOpen,containerRef=useRef(null),targetNode=targetElement||alignRef?.current||containerRef.current;return jsxs(Fragment,{children:[jsxs(Container,{ref:containerRef,disabled,"data-read-only":!!props.readOnly||void 0,onMouseDown:props.readOnly||disabled?preventDefault:e=>{e.preventDefault();const newOpenStatus=!isOpen;props.onOpenChange?.(newOpenStatus),setIsOpenState(newOpenStatus)},children:[renderValue?renderValue({value}):jsx(ValueContainer,{children:String(value)}),!props.readOnly&&jsx(OpenStatusButton,{$isOpen:isOpen,"aria-hidden":!0,"data-disabled":disabled})]}),isOpen&&jsx(StyledDropdownContainer,{role:"listbox",alignSelf,targetElement:targetNode,onClickOutside:e=>{e.target&&containerRef.current?.contains(e.target)||setIsOpenState(!1)},dropContainerCssMixin,className:dropContainerClassName,style:dropContainerStyle,children:jsx(StyledMenu,{$width:menuWidth,maxHeight:menuMaxHeight,options,selected:value,onSelect:value=>{onChange(value),setIsOpenState(!1)},renderOption,dimension,preventFocusSteal:!0})})]})};export{SuffixSelect};
//# sourceMappingURL=SuffixSelect.es.js.map
