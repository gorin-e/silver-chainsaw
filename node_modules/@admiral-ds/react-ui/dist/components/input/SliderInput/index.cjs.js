"use strict";var jsxRuntime=require("react/jsx-runtime"),e=require("react"),styled=require("styled-components"),index$2=require("../../themes/light/index.cjs.js");require("../../themes/common/locales.cjs.js"),require("../../Typography/typography.cjs.js"),require("../../Typography/defaultTypographyMixin.cjs.js");var borderRadius=require("../../themes/borderRadius.cjs.js"),index=require("../../Slider/index.cjs.js"),index$1=require("../NumberInput/index.cjs.js"),utils=require("../NumberInput/utils.cjs.js"),changeInputData=require("../../common/dom/changeInputData.cjs.js"),refSetter=require("../../common/utils/refSetter.cjs.js");function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var styled__default=_interopDefault(styled);const sliderBorderRadius=styled.css`
  ${({theme})=>{const value=borderRadius.mediumGroupBorderRadius(theme.shape);return`var(--admiral-border-radius-Medium, ${value}) var(--admiral-border-radius-Medium, ${value}) 0 0`}}
`,Wrapper=styled__default.default.div`
  position: relative;
  padding-bottom: ${({$dimension})=>"xl"===$dimension?30:28}px;
`,Slider=styled__default.default(index.Slider)`
  & > div {
    position: absolute;
    top: -11px;
    [data-dimension='m'] & {
      top: -9px;
    }
    [data-dimension='s'] & {
      top: -9px;
    }
  }
`,Input=styled__default.default(index$1.NumberInput)`
  border-radius: ${p=>p.skeleton?0:sliderBorderRadius};
`,SliderInput=e.forwardRef(({defaultValue="",value,onChange,renderTickMark,minValue=0,maxValue=20,step=1,tickMarks,dimension="xl",precision=0,thousand:userThousand,decimal:userDecimal,prefix,suffix,placeholder,disabled,wrapperProps,skeleton=!1,...props},ref)=>{const sliderDimension="xl"===dimension?dimension:"m",inputRef=e.useRef(null),theme=styled.useTheme()||index$2.LIGHT_THEME,decimal=userDecimal?.slice(0,1)??utils.getDecimalSeparator(theme.currentLocale),thousand=void 0!==userThousand&&utils.validateThousand(userThousand)?userThousand.slice(0,1):utils.getThousandSeparator(theme.currentLocale),[sliderValue,setSliderValue]=e.useState(minValue),[innerValueState,setInnerValueState]=e.useState(defaultValue||""),innerValue=value??innerValueState;e.useEffect(()=>{setSliderValue(Number(utils.clearValue(String(innerValue),precision,decimal).replace(decimal,".")))},[innerValue]);return jsxRuntime.jsxs(Wrapper,{"data-dimension":dimension,$dimension:dimension,...wrapperProps,children:[jsxRuntime.jsx(Input,{...props,ref:refSetter.refSetter(ref,inputRef),value:innerValue,onChange:event=>{const suffixPart=suffix?" "+suffix:"",full=(prefix?prefix+" ":"")+event.target.value+suffixPart,short=utils.clearValue(event.target.value,precision,decimal,minValue);setInnerValueState(event.target.value),onChange?.(full,short,event)},onBlur:event=>{const numValue=Number(utils.clearValue(event.target.value,precision,decimal).replace(decimal,"."));if(inputRef.current)if("number"==typeof minValue&&numValue<minValue){const fullValue=utils.fitToCurrency(String(minValue),precision,decimal,thousand,!0);changeInputData.changeInputData(inputRef.current,{value:fullValue})}else if("number"==typeof maxValue&&numValue>maxValue){const fullValue=utils.fitToCurrency(String(maxValue),precision,decimal,thousand,!0);changeInputData.changeInputData(inputRef.current,{value:fullValue})}props.onBlur?.(event)},dimension,disabled,precision,decimal,thousand,prefix,suffix,placeholder,step,displayPlusMinusIcons:!1,minValue,maxValue,skeleton}),!skeleton&&jsxRuntime.jsx(Slider,{"aria-hidden":!0,value:sliderValue,onChange:(_e,value)=>{const newValue=utils.fitToCurrency(value,precision,decimal,thousand,!0);inputRef.current&&changeInputData.changeInputData(inputRef.current,{value:newValue})},onMouseDown:e=>{e.preventDefault()},renderTickMark,minValue,maxValue,decimal,precision,thousand,tickMarks,step,disabled:disabled||props.readOnly,dimension:sliderDimension})]})});SliderInput.displayName="SliderInput",exports.SliderInput=SliderInput;
//# sourceMappingURL=index.cjs.js.map
