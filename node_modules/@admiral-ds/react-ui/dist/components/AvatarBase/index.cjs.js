"use strict";var jsxRuntime=require("react/jsx-runtime"),e=require("react"),styled=require("styled-components"),typography=require("../Typography/typography.cjs.js");require("../Typography/defaultTypographyMixin.cjs.js");var index=require("../TooltipHOC/index.cjs.js"),index$1=require("../themes/common/index.cjs.js"),borderRadius=require("../themes/borderRadius.cjs.js"),useLoaded=require("./useLoaded.cjs.js"),Avatar_SVG=require("./Avatar_SVG.cjs.js");function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var styled__default=_interopDefault(styled);const Wrapper=styled__default.default.button`
  position: relative;
  width: ${({size})=>size};
  height: ${({size})=>size};
  margin: 0;
  padding: 0;
  border: none;
  appearance: none;
  background: transparent;
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;
  border-radius: var(--admiral-border-radius-Medium, ${p=>borderRadius.mediumGroupBorderRadius(p.theme.shape)});

  &:focus-visible {
    outline-offset: 2px;
    outline: var(--admiral-color-Primary_Primary60Main, ${p=>p.theme.color["Primary/Primary 60 Main"]}) solid 2px;
  }
`,WrapperWithTooltip=index.TooltipHoc(Wrapper),getTextColor=styled.css`
  ${({theme,$appearance})=>{switch($appearance){case"neutral1":case"white":case"neutral2":case"light":return`var(--admiral-color-Neutral_Neutral90, ${theme.color[index$1.DefaultFontColorName]})`;case"neutral3":case"grey":return`var(--admiral-color-Special_StaticWhite, ${theme.color["Special/Static White"]})`;case"neutral4":case"dark":return`var(--admiral-color-Neutral_Neutral00, ${theme.color["Neutral/Neutral 00"]})`;default:return $appearance?.text||`var(--admiral-color-Neutral_Neutral90, ${theme.color[index$1.DefaultFontColorName]})`}}}
`,getTypography=styled.css`
  ${({$dimension})=>{switch($dimension){case"xxs":case"xs":case"s":return typography.typography["Caption/Caption 1"];case"m":case"l":return typography.typography["Body/Body 1 Short"];default:return typography.typography["Subtitle/Subtitle 1"]}}}
`,Text=styled__default.default.span`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  user-select: none;
  color: ${getTextColor};
  ${getTypography}
`,getIconSize=styled.css`
  ${({$dimension})=>{switch($dimension){case"xxs":case"xs":case"s":return"16px";case"m":return"24px";case"l":return"28px";default:return"32px"}}}
`,getIconColor=styled.css`
  ${({theme,$appearance})=>{switch($appearance){case"neutral1":case"white":case"neutral2":case"light":return`var(--admiral-color-Neutral_Neutral50, ${theme.color["Neutral/Neutral 50"]})`;case"neutral3":case"grey":return`var(--admiral-color-Special_StaticWhite, ${theme.color["Special/Static White"]})`;case"neutral4":case"dark":return`var(--admiral-color-Neutral_Neutral00, ${theme.color["Neutral/Neutral 00"]})`;default:return $appearance?.icon||`var(--admiral-color-Neutral_Neutral50, ${theme.color["Neutral/Neutral 50"]})`}}}
`,getSize=(withActivityRing,dimension)=>{let additionalPadding=0;switch(withActivityRing&&"xxs"!==dimension&&(additionalPadding=4),dimension){case"xxs":return 20+2*additionalPadding+"px";case"xs":return 24+2*additionalPadding+"px";case"s":return 32+2*additionalPadding+"px";case"m":return 40+2*additionalPadding+"px";case"l":return 48+2*additionalPadding+"px";default:return 56+2*additionalPadding+"px"}},IconWrapper=styled__default.default.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: ${getIconSize};
  height: ${getIconSize};

  & svg {
    & *[fill^='#'] {
      fill: ${getIconColor};
    }
    width: 100%;
    height: 100%;
  }
`,AvatarBase=e.forwardRef(({userName,userInitials,href,status,dimension="xl",icon:Icon,appearance="neutral2",group=!1,showTooltip=!0,isMenuAvatar=!1,svgMaskId,withActivityRing=!1,showActivityRing=!1,...props},ref)=>{const loaded=useLoaded.useLoaded(href),hasImage=Boolean(href&&"loaded"===loaded),hasIcon=Boolean(Icon&&!hasImage),hasAbbr=!hasImage&&!hasIcon||isMenuAvatar,avatarDimension="xxs"===dimension&&(status||group||withActivityRing)?"xs":dimension,maxAbbrLength="xs"===avatarDimension||"xxs"===avatarDimension?1:2,defaultUserInitials=userName?.split(" ").map(word=>word.toUpperCase()[0]).join("").slice(0,maxAbbrLength),abbr=isMenuAvatar?userName:userInitials||defaultUserInitials,renderAvatarContent=()=>jsxRuntime.jsxs(jsxRuntime.Fragment,{children:[jsxRuntime.jsx(Avatar_SVG.AvatarSVG,{dimension:avatarDimension,size:getSize(withActivityRing,avatarDimension),hasImage,href,status,appearance,group,svgMaskId,withActivityRing,showActivityRing}),hasAbbr&&jsxRuntime.jsx(Text,{$dimension:avatarDimension,$appearance:appearance,children:abbr}),hasIcon&&jsxRuntime.jsx(IconWrapper,{$dimension:avatarDimension,$appearance:appearance,children:Icon})]});return showTooltip?jsxRuntime.jsx(WrapperWithTooltip,{ref,size:getSize(withActivityRing,avatarDimension),renderContent:()=>userName,...props,children:renderAvatarContent()}):jsxRuntime.jsx(Wrapper,{ref,size:getSize(withActivityRing,avatarDimension),...props,children:renderAvatarContent()})});AvatarBase.displayName="AvatarBase",exports.AvatarBase=AvatarBase;
//# sourceMappingURL=index.cjs.js.map
