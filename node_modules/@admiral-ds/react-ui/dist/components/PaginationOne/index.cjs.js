"use strict";var jsxRuntime=require("react/jsx-runtime"),e=require("react"),styled=require("styled-components"),index=require("../themes/light/index.cjs.js");require("../themes/common/locales.cjs.js");var typography=require("../Typography/typography.cjs.js");require("../Typography/defaultTypographyMixin.cjs.js");var ChevronLeftOutline=require("../../node_modules/@admiral-ds/icons/build/system/ChevronLeftOutline.svg.cjs.js"),ChevronRightOutline=require("../../node_modules/@admiral-ds/icons/build/system/ChevronRightOutline.svg.cjs.js"),Menu=require("./Menu.cjs.js"),splitDataAttributes=require("../common/utils/splitDataAttributes.cjs.js"),MenuActionsPanel=require("../Menu/MenuActionsPanel.cjs.js"),index$2=require("../input/TextInput/index.cjs.js");require("../input/DateInput/index.cjs.js"),require("../input/SuggestInput/index.cjs.js"),require("../input/Select/index.cjs.js"),require("../input/TextArea/index.cjs.js"),require("../input/TimeInput/index.cjs.js"),require("../input/SliderInput/index.cjs.js"),require("../input/FileUploader/index.cjs.js"),require("../input/SliderRange/index.cjs.js"),require("../input/NumberInput/index.cjs.js"),require("../input/Container.cjs.js"),require("../input/StatusIcon.cjs.js"),require("../input/EditMode/index.cjs.js"),require("../input/EditModeArea/index.cjs.js"),require("../input/PhoneNumberInput/index.cjs.js"),require("../input/InputEx/index.cjs.js"),require("../input/FileInput/index.cjs.js"),require("../input/FileInput/FileItem.cjs.js"),require("../input/DateTime/index.cjs.js"),require("../input/MultiInput/index.cjs.js"),require("../input/InputLine/index.cjs.js"),require("../input/TreeSelect/index.cjs.js");var keyboardKey=require("../common/keyboardKey.cjs.js"),index$1=require("../Button/index.cjs.js");function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var styled__default=_interopDefault(styled);const ComplexWrapper=styled__default.default.div`
  display: flex;
  align-items: center;
  ${typography.typography["Body/Body 2 Long"]}
  white-space: nowrap;
  user-select: none;
  min-width: 696px;
  justify-content: space-between;
  color: var(--admiral-color-Neutral_Neutral90, ${p=>p.theme.color["Neutral/Neutral 90"]});
`,SimpleWrapper=styled__default.default(ComplexWrapper)`
  min-width: auto;
`,Part=styled__default.default.div`
  display: flex;
  align-items: center;
`,Divider=styled__default.default.div`
  width: 1px;
  height: 24px;
  background-color: var(--admiral-color-Neutral_Neutral20, ${p=>p.theme.color["Neutral/Neutral 20"]});
`,PageAdditional=styled__default.default.span`
  margin: 0 4px;
  min-width: 112px;
`,PageSizeAdditional=styled__default.default.div`
  min-width: 172px;
  margin: 0 12px;
  [data-simple='true'] & {
    margin: 0;
  }
`,ButtonsWrapper=styled__default.default.div`
  display: flex;
  & > button {
    margin-left: 8px;
  }
  [data-simple='true'] & {
    margin-left: 20px;
  }
`,extendMixin=(mixin,showPageNumberInput)=>styled.css`
  width: auto;
  min-width: ${showPageNumberInput?80:68}px;

  ${mixin};
`,nothing=()=>{},PaginationOne=({dimension="m",page,pageSize,pageSizes,totalItems,pageSelectDisabled=!1,pageSizeSelectDisabled=!1,onChange,simple=!1,menuWidth,dropMaxHeight="",dropContainerCssMixin,pageSizeDropContainerStyle,pageNumberDropContainerStyle,locale,showPageNumberInput=!1,leftButtonPropsConfig=nothing,rightButtonPropsConfig=nothing,...props})=>{const theme=styled.useTheme()||index.LIGHT_THEME,{itemsPerPageText:theme_itemsPerPageText,itemRangeText:theme_itemRangeText,pageRangeText:theme_pageRangeText,pageSelectLabel:theme_pageSelectLabel,pageSizeSelectLabel:theme_pageSizeSelectLabel,backwardText:theme_backwardText,forwardText:theme_forwardText}=theme.locales[theme.currentLocale].paginationOne,itemsPerPageText=locale?.itemsPerPageText||theme_itemsPerPageText,itemRangeText=locale?.itemRangeText||theme_itemRangeText,pageRangeText=locale?.pageRangeText||theme_pageRangeText,pageSelectLabel=locale?.pageSelectLabel||theme_pageSelectLabel,pageSizeSelectLabel=locale?.pageSizeSelectLabel||theme_pageSizeSelectLabel,backwardText=locale?.backwardText||theme_backwardText,forwardText=locale?.forwardText||theme_forwardText,totalPages=Math.max(Math.ceil(totalItems/pageSize),1),pages=Array.from({length:totalPages},(_,k)=>k+1),backButtonDisabled=1===page,forwardButtonDisabled=page===totalPages,[isVisible,setIsVisible]=e.useState(!1),[selectedPageNumber,setSelectedPageNumber]=e.useState(page.toString()),[activePageNumber,setActivePageNumber]=e.useState(page.toString()),[inputPageNumber,setInputPageNumber]=e.useState(page.toString()),pageNumberInputRef=e.useRef(null),parsePageNumber=pageSelected=>{if(""===pageSelected)return Number.parseInt(selectedPageNumber,10);const page=Number.parseInt(pageSelected,10);return Number.isNaN(page)||page<1?1:page>totalPages?totalPages:page},handlePageInputHover=activePage=>{activePage&&(setActivePageNumber(activePage),setInputPageNumber(activePage))},handleClosePageNumberDropMenu=pageNumber=>{handlePageInputHover(pageNumber),setIsVisible(!1)},handleSizeChange=pageSizeSelected=>{const pageSize=Number.parseInt(pageSizeSelected,10);onChange({page:1,pageSize})},handlePageInputChange=pageSelected=>{const page=parsePageNumber(pageSelected);setSelectedPageNumber(page.toString()),onChange({page,pageSize}),handleClosePageNumberDropMenu(page.toString())},dropMenuProps=splitDataAttributes.passDropdownDataAttributes(props),handleClickOutside=()=>{handleClosePageNumberDropMenu(selectedPageNumber)},handleMenuButtonClick=()=>{isVisible?handleClosePageNumberDropMenu(selectedPageNumber):setIsVisible(!0)};e.useEffect(()=>{isVisible&&pageNumberInputRef&&(pageNumberInputRef.current?.select(),pageNumberInputRef.current?.focus())},[isVisible]);const handleInputPageNumberChange=e=>{let inputValue=e.target.value;inputValue=inputValue.replace(/\D/g,""),setInputPageNumber(inputValue),setActivePageNumber(parsePageNumber(inputValue).toString())},handleInputPageNumberKeyDown=e=>{const code=keyboardKey.keyboardKey.getCode(e);code===keyboardKey.keyboardKey.Enter?(handlePageInputChange(inputPageNumber),setIsVisible(!1)):code===keyboardKey.keyboardKey.ArrowDown||code===keyboardKey.keyboardKey.ArrowUp?pageNumberInputRef.current?.blur():code===keyboardKey.keyboardKey.Escape&&handleClosePageNumberDropMenu(selectedPageNumber)},handleMenuCycle=()=>(pageNumberInputRef.current?.focus(),!1),leftButtonProps={appearance:"tertiary",dimension,iconStart:jsxRuntime.jsx(ChevronLeftOutline.ReactComponent,{}),displayAsSquare:!0,"aria-label":backwardText,disabled:backButtonDisabled,onClick:()=>{const newPage=page-1;setSelectedPageNumber(newPage.toString()),setActivePageNumber(newPage.toString()),onChange({page:newPage,pageSize})}},rightButtonProps={appearance:"tertiary",dimension,iconStart:jsxRuntime.jsx(ChevronRightOutline.ReactComponent,{}),displayAsSquare:!0,"aria-label":forwardText,disabled:forwardButtonDisabled,onClick:()=>{const newPage=page+1;setSelectedPageNumber(newPage.toString()),setActivePageNumber(newPage.toString()),onChange({page:newPage,pageSize})}};return simple?jsxRuntime.jsxs(SimpleWrapper,{"data-simple":simple,...props,children:[jsxRuntime.jsx(PageSizeAdditional,{children:itemRangeText(Math.min(pageSize*(page-1)+1,totalItems),Math.min(page*pageSize,totalItems),totalItems)}),jsxRuntime.jsxs(ButtonsWrapper,{children:[jsxRuntime.jsx(index$1.Button,{...leftButtonProps,...leftButtonPropsConfig(leftButtonProps)}),jsxRuntime.jsx(index$1.Button,{...rightButtonProps,...rightButtonPropsConfig(rightButtonProps)})]})]}):jsxRuntime.jsxs(ComplexWrapper,{"data-simple":simple,...props,children:[jsxRuntime.jsxs(Part,{children:[itemsPerPageText,jsxRuntime.jsx(Menu.MenuButton,{dimension,options:pageSizes,selected:pageSize.toString(),onSelectItem:handleSizeChange,disabled:pageSizeSelectDisabled,"aria-label":pageSizeSelectLabel(pageSize,totalItems),menuMaxHeight:pageSizeDropContainerStyle?.menuMaxHeight||dropMaxHeight,dropContainerCssMixin:pageSizeDropContainerStyle?.dropContainerCssMixin||extendMixin(dropContainerCssMixin),dropContainerClassName:pageSizeDropContainerStyle?.dropContainerClassName,dropContainerStyle:pageSizeDropContainerStyle?.dropContainerStyle,menuWidth:pageSizeDropContainerStyle?.menuWidth||menuWidth,dropMenuDataAttributes:dropMenuProps,className:"records-per-page-with-dropdown",children:pageSize}),jsxRuntime.jsx(Divider,{}),jsxRuntime.jsx(PageSizeAdditional,{children:itemRangeText(Math.min(pageSize*(page-1)+1,totalItems),Math.min(page*pageSize,totalItems),totalItems)})]}),jsxRuntime.jsxs(Part,{children:[jsxRuntime.jsx(Divider,{}),jsxRuntime.jsx(Menu.MenuButton,{dimension,options:pages,selected:selectedPageNumber,onSelectItem:handlePageInputChange,active:activePageNumber,onActivateItem:handlePageInputHover,disabled:pageSelectDisabled,"aria-label":pageSelectLabel(page,totalPages),menuMaxHeight:pageNumberDropContainerStyle?.menuMaxHeight||dropMaxHeight,dropContainerCssMixin:pageNumberDropContainerStyle?.dropContainerCssMixin||extendMixin(dropContainerCssMixin,showPageNumberInput),dropContainerClassName:pageNumberDropContainerStyle?.dropContainerClassName,dropContainerStyle:pageNumberDropContainerStyle?.dropContainerStyle,menuWidth:pageNumberDropContainerStyle?.menuWidth||menuWidth,dropMenuDataAttributes:dropMenuProps,className:"current-page-number-with-dropdown",isVisible,onVisibilityChange:setIsVisible,onClickOutside:handleClickOutside,onClick:handleMenuButtonClick,onForwardCycleApprove:handleMenuCycle,onBackwardCycleApprove:handleMenuCycle,renderTopPanel:showPageNumberInput?({dimension="s"})=>jsxRuntime.jsx(MenuActionsPanel.MenuActionsPanel,{dimension,children:jsxRuntime.jsx(index$2.TextInput,{dimension:"s",value:inputPageNumber,onChange:handleInputPageNumberChange,onKeyDown:handleInputPageNumberKeyDown,ref:pageNumberInputRef})}):void 0,children:page}),jsxRuntime.jsx(PageAdditional,{children:pageRangeText(totalPages)}),jsxRuntime.jsxs(ButtonsWrapper,{children:[jsxRuntime.jsx(index$1.Button,{...leftButtonProps,...leftButtonPropsConfig(leftButtonProps)}),jsxRuntime.jsx(index$1.Button,{...rightButtonProps,...rightButtonPropsConfig(rightButtonProps)})]})]})]})};PaginationOne.displayName="PaginationOne",exports.PaginationOne=PaginationOne;
//# sourceMappingURL=index.cjs.js.map
